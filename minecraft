version=1.1
#time to check if the config file exists
if [ ! -e ~/.minecraft ] ; then
	mkdir ~/.minecraft
fi

if [ ! -e ~/.minecraft/launcher.cfg ] ; then #gets if you have the config installed or not
	echo -e "launcher=/usr/local/games/minecraft/minecraft.jar" > ~/.minecraft/launcher.cfg
fi

while getopts -e:-u:-U:-h:-v opt; do
 	case $opt in
 	-e)
 		if [ -e "$2" ] ; then
 			java -jar /usr/local/games/minecraft/extureender.jar "$2"
 		else
 			echo -e "$2 not found"
 		fi
 		;;
 	-u)
 		if [ -e "$2" ]; then
 			java -jar /usr/local/games/minecraft/unsticher.jar "$2"
 		else
 			echo -e "$2 not found"
 		fi
 		;;
 	-U)
 		if [ $UID -ne 0 ] ; then 
			echo -e "You must be root to update the launcher"
		else
			mv /usr/local/games/minecraft/minecraft.jar /usr/local/games/minecraft/minecraft.jar.old
			wget -O /usr/local/games/minecraft/minecraft.jar https://s3.amazonaws.com/Minecraft.Download/launcher/Minecraft.jar
		fi
		;;
	-h)
		echo -e "The commands for this launcher are-\n
		-e <file>\t Used to convert texture packs to resource packs\n
		-u <file>\t Used for converting older texture packs to newere verions\n
		-U\t Grabs a new launcher\n
		-h\t Display this help"
		;;
	-v)
		echo $version
		;;
	*)
		. ~/.minecraft/launcher.cfg
		if [ ! -e "$launcher" ] ; then
			echo "File not found, Please check the path in launcher.cfgs"
		else
			java -jar "$launcher"
		fi
		;;
	esac
done
